<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ðŸ›’ E-Commerce Platform - Product Requirements Document</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f5f7fa;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px 20px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        header p {
            font-size: 1.2em;
            opacity: 0.95;
        }
        .section {
            background: white;
            margin: 30px 0;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }
        h2 {
            color: #667eea;
            font-size: 2em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
        }
        h3 {
            color: #764ba2;
            font-size: 1.5em;
            margin: 25px 0 15px 0;
        }
        h4 {
            color: #555;
            font-size: 1.2em;
            margin: 20px 0 10px 0;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            overflow: hidden;
            border-radius: 8px;
        }
        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #e0e0e0;
        }
        th {
            background: #667eea;
            color: white;
            font-weight: 600;
        }
        tr:hover {
            background: #f8f9fa;
        }
        ul, ol {
            margin: 15px 0 15px 30px;
        }
        li {
            margin: 8px 0;
        }
        pre {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.5;
            margin: 15px 0;
        }
        code {
            background: #f4f4f4;
            padding: 3px 8px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            color: #e83e8c;
            font-size: 0.9em;
        }
        .badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
            margin: 3px;
        }
        .badge-admin { background: #dc3545; color: white; }
        .badge-seller { background: #ffc107; color: #333; }
        .badge-customer { background: #28a745; color: white; }
        .badge-get { background: #61affe; color: white; }
        .badge-post { background: #49cc90; color: white; }
        .badge-put { background: #fca130; color: white; }
        .badge-delete { background: #f93e3e; color: white; }
        .phase {
            background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%);
            padding: 20px;
            border-left: 5px solid #667eea;
            margin: 20px 0;
            border-radius: 8px;
        }
        .api-endpoint {
            background: #f8f9fa;
            padding: 15px;
            margin: 10px 0;
            border-left: 4px solid #667eea;
            border-radius: 4px;
        }
        .note {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        .warning {
            background: #f8d7da;
            border-left: 4px solid #dc3545;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        .success {
            background: #d4edda;
            border-left: 4px solid #28a745;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .card {
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 20px;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        footer {
            background: #2d2d2d;
            color: white;
            text-align: center;
            padding: 30px 20px;
            margin-top: 50px;
        }
    </style>
</head>
<body>
    <header>
        <h1>ðŸ›’ E-Commerce Platform</h1>
        <p>Product Requirements Document (PRD)</p>
        <p style="font-size: 1em; margin-top: 10px;">Multi-Vendor Marketplace with Admin Approval System</p>
    </header>

    <div class="container">
        <div class="section">
            <h2>ðŸ“‹ Project Overview</h2>
            <p>A multi-vendor e-commerce marketplace where sellers can register, get approved by admin, manage their products, and customers can browse and purchase products. The platform implements a three-tier user system: <strong>Admin</strong>, <strong>Seller</strong>, and <strong>Customer</strong>.</p>
            
            <h3>Technology Stack</h3>
            <div class="grid">
                <div class="card">
                    <h4>Frontend</h4>
                    <ul>
                        <li><strong>Vanilla JavaScript</strong> - Core logic</li>
                        <li><strong>Axios</strong> - HTTP client</li>
                        <li><strong>HTML5/CSS3</strong> - UI structure & styling</li>
                    </ul>
                </div>
                <div class="card">
                    <h4>Backend</h4>
                    <ul>
                        <li><strong>Node.js</strong> - Runtime environment</li>
                        <li><strong>Express.js</strong> - Web framework</li>
                        <li><strong>MySQL</strong> - Database</li>
                        <li><strong>JWT</strong> - Authentication</li>
                    </ul>
                </div>
                <div class="card">
                    <h4>Additional Tools</h4>
                    <ul>
                        <li><strong>bcrypt</strong> - Password hashing</li>
                        <li><strong>express-validator</strong> - Input validation</li>
                        <li><strong>CORS</strong> - Cross-origin requests</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>ðŸ‘¥ User Roles & Permissions</h2>
            <table>
                <thead>
                    <tr>
                        <th>Role</th>
                        <th>Permissions</th>
                        <th>Access Level</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><span class="badge badge-admin">ADMIN</span></td>
                        <td>
                            â€¢ View all sellers<br>
                            â€¢ Approve/Reject seller accounts<br>
                            â€¢ View all products<br>
                            â€¢ View all orders<br>
                            â€¢ Manage system settings
                        </td>
                        <td><strong>Full System Access</strong></td>
                    </tr>
                    <tr>
                        <td><span class="badge badge-seller">SELLER</span></td>
                        <td>
                            â€¢ Create/Update/Delete own products<br>
                            â€¢ Manage inventory<br>
                            â€¢ View own orders<br>
                            â€¢ Update order status<br>
                            â€¢ View sales analytics
                        </td>
                        <td><strong>Own Products Only</strong></td>
                    </tr>
                    <tr>
                        <td><span class="badge badge-customer">CUSTOMER</span></td>
                        <td>
                            â€¢ Browse products<br>
                            â€¢ Add to cart<br>
                            â€¢ Place orders<br>
                            â€¢ View order history<br>
                            â€¢ Manage profile
                        </td>
                        <td><strong>Public + Own Data</strong></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="section">
            <h2>ðŸš€ Development Phases</h2>
            
            <div class="phase">
                <h3>Phase 1: Authentication & User Management</h3>
                <p><strong>Deliverables:</strong> Auth API, Email service, Admin seller management panel</p>
                <ul>
                    <li>User registration (Seller/Customer)</li>
                    <li>Login with JWT token generation</li>
                    <li>Email verification system</li>
                    <li>Admin panel for seller approval</li>
                </ul>
            </div>

            <div class="phase">
                <h3>Phase 2: Product Management</h3>
                <p><strong>Deliverables:</strong> Seller dashboard, Product management APIs, Image storage</p>
                <ul>
                    <li>Product CRUD operations</li>
                    <li>Category management</li>
                    <li>Inventory tracking</li>
                    <li>Product image upload</li>
                </ul>
            </div>

            <div class="phase">
                <h3>Phase 3: Customer Profile & Authentication</h3>
                <p><strong>Deliverables:</strong> Customer auth APIs, Profile management UI</p>
                <ul>
                    <li>Customer registration/login</li>
                    <li>Profile management</li>
                    <li>Address management</li>
                    <li>Password reset functionality</li>
                </ul>
            </div>

            <div class="phase">
                <h3>Phase 4: Shopping & Orders</h3>
                <p><strong>Deliverables:</strong> Customer shopping interface, Cart system, Order processing</p>
                <ul>
                    <li>Product browsing and search</li>
                    <li>Shopping cart functionality</li>
                    <li>Checkout process</li>
                    <li>Order management</li>
                </ul>
            </div>
        </div>

        <div class="section">
            <h2>ðŸ”Œ API Endpoints</h2>

            <h3>Authentication APIs</h3>
            
            <div class="api-endpoint">
                <span class="badge badge-post">POST</span>
                <code>/api/auth/register</code>
                <p><strong>Description:</strong> Register new user (seller or customer)</p>
                <p><strong>Request Body:</strong></p>
                <pre>{
  "email": "user@example.com",
  "password": "password123",
  "name": "John Doe",
  "role": "seller",
  "businessName": "My Store"
}</pre>
                <p><strong>Response:</strong></p>
                <pre>{
  "message": "Registration successful. Please verify your email.",
  "userId": 1
}</pre>
            </div>

            <div class="api-endpoint">
                <span class="badge badge-post">POST</span>
                <code>/api/auth/login</code>
                <p><strong>Description:</strong> User login - returns JWT token</p>
                <p><strong>Request Body:</strong></p>
                <pre>{
  "email": "user@example.com",
  "password": "password123"
}</pre>
                <p><strong>Response:</strong></p>
                <pre>{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "user": {
    "id": 1,
    "email": "user@example.com",
    "name": "John Doe",
    "role": "seller",
    "status": "approved"
  }
}</pre>
            </div>

            <h3>Admin APIs</h3>

            <div class="api-endpoint">
                <span class="badge badge-get">GET</span>
                <code>/api/admin/sellers</code>
                <p><strong>Description:</strong> Get all sellers (pending, approved, rejected)</p>
                <p><strong>Auth Required:</strong> Admin only</p>
            </div>

            <div class="api-endpoint">
                <span class="badge badge-put">PUT</span>
                <code>/api/admin/sellers/:id/approve</code>
                <p><strong>Description:</strong> Approve seller account</p>
                <p><strong>Auth Required:</strong> Admin only</p>
            </div>

            <div class="api-endpoint">
                <span class="badge badge-put">PUT</span>
                <code>/api/admin/sellers/:id/reject</code>
                <p><strong>Description:</strong> Reject seller account</p>
                <p><strong>Auth Required:</strong> Admin only</p>
                <p><strong>Request Body:</strong></p>
                <pre>{
  "reason": "Incomplete business documentation"
}</pre>
            </div>

            <h3>Product APIs</h3>

            <div class="api-endpoint">
                <span class="badge badge-get">GET</span>
                <code>/api/products</code>
                <p><strong>Description:</strong> Get all active products (public)</p>
                <p><strong>Query Parameters:</strong> category, search, page, limit</p>
            </div>

            <div class="api-endpoint">
                <span class="badge badge-get">GET</span>
                <code>/api/products/:id</code>
                <p><strong>Description:</strong> Get product details</p>
            </div>

            <div class="api-endpoint">
                <span class="badge badge-post">POST</span>
                <code>/api/seller/products</code>
                <p><strong>Description:</strong> Create new product (seller only)</p>
                <p><strong>Auth Required:</strong> Approved seller</p>
                <p><strong>Request Body:</strong></p>
                <pre>{
  "title": "Product Name",
  "description": "Product description",
  "price": 99.99,
  "stock_quantity": 100,
  "category": "Electronics",
  "image_url": "https://example.com/image.jpg"
}</pre>
            </div>

            <div class="api-endpoint">
                <span class="badge badge-put">PUT</span>
                <code>/api/seller/products/:id</code>
                <p><strong>Description:</strong> Update product (seller only)</p>
                <p><strong>Auth Required:</strong> Product owner</p>
            </div>

            <div class="api-endpoint">
                <span class="badge badge-delete">DELETE</span>
                <code>/api/seller/products/:id</code>
                <p><strong>Description:</strong> Delete product (seller only)</p>
                <p><strong>Auth Required:</strong> Product owner</p>
            </div>

            <h3>Cart APIs</h3>

            <div class="api-endpoint">
                <span class="badge badge-get">GET</span>
                <code>/api/cart</code>
                <p><strong>Description:</strong> Get current user's cart</p>
                <p><strong>Auth Required:</strong> Customer</p>
            </div>

            <div class="api-endpoint">
                <span class="badge badge-post">POST</span>
                <code>/api/cart/add</code>
                <p><strong>Description:</strong> Add item to cart</p>
                <p><strong>Auth Required:</strong> Customer</p>
                <p><strong>Request Body:</strong></p>
                <pre>{
  "productId": 1,
  "quantity": 2
}</pre>
            </div>

            <div class="api-endpoint">
                <span class="badge badge-put">PUT</span>
                <code>/api/cart/:itemId</code>
                <p><strong>Description:</strong> Update cart item quantity</p>
                <p><strong>Auth Required:</strong> Customer</p>
            </div>

            <div class="api-endpoint">
                <span class="badge badge-delete">DELETE</span>
                <code>/api/cart/:itemId</code>
                <p><strong>Description:</strong> Remove item from cart</p>
                <p><strong>Auth Required:</strong> Customer</p>
            </div>

            <h3>Order APIs</h3>

            <div class="api-endpoint">
                <span class="badge badge-post">POST</span>
                <code>/api/orders</code>
                <p><strong>Description:</strong> Place order from cart</p>
                <p><strong>Auth Required:</strong> Customer</p>
                <p><strong>Request Body:</strong></p>
                <pre>{
  "shipping_address": "123 Main St, City, State, ZIP"
}</pre>
            </div>

            <div class="api-endpoint">
                <span class="badge badge-get">GET</span>
                <code>/api/orders</code>
                <p><strong>Description:</strong> Get user's order history</p>
                <p><strong>Auth Required:</strong> Customer</p>
            </div>

            <div class="api-endpoint">
                <span class="badge badge-get">GET</span>
                <code>/api/orders/:id</code>
                <p><strong>Description:</strong> Get order details</p>
                <p><strong>Auth Required:</strong> Order owner</p>
            </div>
        </div>

        <div class="section">
            <h2>ðŸ’» Frontend Implementation (Vanilla JS + Axios)</h2>

            <h3>1. Axios Configuration</h3>
            <pre>// api.js - Axios setup with interceptors
const API = axios.create({
    baseURL: 'http://localhost:5000/api',
    headers: {
        'Content-Type': 'application/json'
    }
});

// Request interceptor - Add JWT token to all requests
API.interceptors.request.use(
    (config) => {
        const token = localStorage.getItem('token');
        if (token) {
            config.headers.Authorization = `Bearer ${token}`;
        }
        return config;
    },
    (error) => Promise.reject(error)
);

// Response interceptor - Handle errors globally
API.interceptors.response.use(
    (response) => response,
    (error) => {
        if (error.response?.status === 401) {
            localStorage.removeItem('token');
            localStorage.removeItem('user');
            window.location.href = '/login.html';
        }
        return Promise.reject(error);
    }
);

export default API;</pre>

            <h3>2. Authentication Service</h3>
            <pre>// authService.js
const authService = {
    register: async (userData) => {
        const response = await API.post('/auth/register', userData);
        return response.data;
    },

    login: async (credentials) => {
        const response = await API.post('/auth/login', credentials);
        if (response.data.token) {
            localStorage.setItem('token', response.data.token);
            localStorage.setItem('user', JSON.stringify(response.data.user));
        }
        return response.data;
    },

    logout: () => {
        localStorage.removeItem('token');
        localStorage.removeItem('user');
        window.location.href = '/login.html';
    },

    getCurrentUser: () => {
        const user = localStorage.getItem('user');
        return user ? JSON.parse(user) : null;
    },

    isAuthenticated: () => {
        return !!localStorage.getItem('token');
    }
};</pre>

            <h3>3. Login Page Implementation</h3>
            <pre>// login.js
document.addEventListener('DOMContentLoaded', () => {
    const loginForm = document.getElementById('loginForm');
    const errorDiv = document.getElementById('error');
    const submitBtn = document.getElementById('submitBtn');

    loginForm.addEventListener('submit', async (e) => {
        e.preventDefault();
        errorDiv.style.display = 'none';
        submitBtn.disabled = true;
        submitBtn.textContent = 'Logging in...';

        const formData = {
            email: document.getElementById('email').value,
            password: document.getElementById('password').value
        };

        try {
            const response = await authService.login(formData);
            
            // Redirect based on role
            if (response.user.role === 'admin') {
                window.location.href = '/admin/dashboard.html';
            } else if (response.user.role === 'seller') {
                if (response.user.status === 'approved') {
                    window.location.href = '/seller/dashboard.html';
                } else {
                    window.location.href = '/seller/pending.html';
                }
            } else {
                window.location.href = '/customer/dashboard.html';
            }
        } catch (err) {
            errorDiv.textContent = err.response?.data?.message || 'Login failed';
            errorDiv.style.display = 'block';
            submitBtn.disabled = false;
            submitBtn.textContent = 'Login';
        }
    });
});</pre>

            <h3>4. Product Service</h3>
            <pre>// productService.js
const productService = {
    getAllProducts: async (params = {}) => {
        const response = await API.get('/products', { params });
        return response.data;
    },

    getProductById: async (id) => {
        const response = await API.get(`/products/${id}`);
        return response.data;
    },

    createProduct: async (productData) => {
        const response = await API.post('/seller/products', productData);
        return response.data;
    },

    updateProduct: async (id, productData) => {
        const response = await API.put(`/seller/products/${id}`, productData);
        return response.data;
    },

    deleteProduct: async (id) => {
        const response = a
